<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<form>
    <!--<p th:each="cargo: ${house}">-->
    <p hidden="hidden" ><span th:text="${wareHouse.houseId}" id="hid"></span></p>
    <p><b>客户: </b><input type="text" id="customerName"></p>
    <p><b>货物: </b><span th:text="${wareHouse.cName}" id="car"></span></p>
    <p><b>供应商: </b><span th:text="${wareHouse.sName}" id="sup"></span></p>
    <p><b>数量: </b><input type="text" id="amount"></b></p>
    <input type="button" value="立即出货" id="but">

</form>
<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script type="text/javascript">

    $("#but").click(function () {
        var h=$("#hid").text();
        var obj = JSON.stringify({"houseId":$("#hid").text(),"customerName":$("#customerName").val(),"cargoName":$("#car").text(),"supplier":$("#sup").text(),"amount":$("#amount").val()});
        $.ajax(
            {
                url:"outOrder",
                type:"post",
                data:obj,
                contentType:"application/json;charsetset=UTF-8",
                success:function (data) {

                    if (data=="success"){
                        alert("成功出库！");
                        location.href="/";
                    }else {
                        alert("库存不足！");

                    }
                }

            }
        )
    })
</script>
</body>
</html>